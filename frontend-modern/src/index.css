@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
    --primary-color: #10B981;
}

body {
    @apply bg-gray-50 min-h-screen text-foreground transition-colors duration-300;
}

.dark body {
    @apply bg-[#09090b];
    /* Premium Dark Background Texture in Dark Mode */
    background-image: radial-gradient(circle at 15% 50%, rgba(16, 185, 129, 0.08), transparent 25%),
        radial-gradient(circle at 85% 30%, rgba(16, 185, 129, 0.05), transparent 25%);
}

.light body {
    background-image: none;
    @apply bg-gray-50;
}

/* Glassmorphism Utilities */
@layer utilities {
    .glass-card {
        @apply bg-white/70 backdrop-blur-xl border border-white/20 shadow-xl;
    }

    .dark .glass-card {
        @apply bg-zinc-900/60 border-white/5;
    }

    .glass-sidebar {
        @apply bg-white/80 backdrop-blur-xl border-r border-gray-200/50;
    }

    .dark .glass-sidebar {
        @apply bg-[#0f1012]/80 border-white/5;
    }

    /* Input Styles */
    .input-dark-glass {
        @apply !bg-zinc-800/50 !border-white/5 !text-white !transition-all !duration-300;
    }

    .input-dark-glass::placeholder {
        @apply !text-zinc-500;
    }

    .input-dark-glass:hover {
        @apply !border-primary/50;
    }

    .input-dark-glass:focus {
        @apply !border-primary;
    }

    .login-gradient {
        /* Rich Deep Green Gradient */
        background: radial-gradient(circle at 50% -20%, rgba(16, 185, 129, 0.2) 0%, rgba(0, 0, 0, 0) 50%),
            radial-gradient(circle at 100% 0%, #064e3b 0%, transparent 50%),
            radial-gradient(circle at 0% 100%, #065f46 0%, transparent 50%),
            linear-gradient(135deg, #0f172a 0%, #022c22 100%);
    }
}

/* Ant Design Overrides to match the dark modern look */
.ant-btn-primary {
    @apply !bg-gradient-to-r !from-emerald-500 !to-green-600 !border-none !shadow-lg !shadow-green-900/20 !h-12 !font-semibold tracking-wide !transition-opacity !duration-200 !important;
}

.ant-btn-primary:hover {
    @apply !opacity-90 !text-white !important;
}

/* Specific overrides for the dark login card inputs */
.login-form .ant-input,
.login-form .ant-input-password,
.login-form .ant-input-affix-wrapper {
    @apply !bg-[#1f2937] !border-[#374151] !text-gray-200 !rounded-lg !py-2 !px-3 shadow-inner !transition-all !duration-200 !important;
}

.login-form .ant-input:hover,
.login-form .ant-input-password:hover,
.login-form .ant-input-affix-wrapper:hover {
    @apply !border-emerald-500/50 !important;
}

.login-form .ant-input:focus,
.login-form .ant-input-password:focus,
.login-form .ant-input-affix-wrapper:focus,
.login-form .ant-input-affix-wrapper-focused {
    @apply !ring-2 !ring-emerald-500/30 !border-emerald-500 !bg-[#1f2937] !important;
}

.login-form .ant-input-prefix {
    @apply !text-gray-500 !mr-3;
}

/* Ant Message Glassmorphism Override */
.ant-message-notice-content {
    /* Adaptive Glass for messages */
    @apply !bg-white/90 !backdrop-blur-md !border !border-gray-200 !shadow-xl !rounded-xl text-gray-800 !px-6 !py-3 !font-medium !tracking-wide !transition-all !duration-300;
}

.dark .ant-message-notice-content {
    @apply !bg-black/80 !border-white/10 !text-white;
}

.ant-message-custom-content svg {
    @apply !text-emerald-500 !text-lg !mr-2;
}

.dark .ant-message-custom-content svg {
    @apply !text-emerald-400;
}

/* Ensure success icon specifically pops */
.ant-message-success .anticon {
    @apply !text-emerald-500;
}

.dark .ant-message-success .anticon {
    @apply !text-emerald-400;
}

.ant-message-error .anticon {
    @apply !text-red-500;
}

.dark .ant-message-error .anticon {
    @apply !text-red-400;
}

/* ========================================
   MOBILE OVERFLOW FIX - Force all content to stay within viewport
   ======================================== */

/* Global mobile containment */
@media (max-width: 768px) {
    body {
        overflow-x: hidden !important;
    }

    #root {
        max-width: 100vw !important;
        overflow-x: hidden !important;
    }
}

/* Report Container - Force width containment */
.report-container {
    width: 100% !important;
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* Stats Grid - Ensure 2 columns on mobile with proper containment */
.report-stats-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
}

.report-stats-grid>div {
    min-width: 0 !important;
    /* Prevent flex/grid items from overflowing */
    overflow: hidden !important;
}

@media (min-width: 768px) {
    .report-stats-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
}

/* Report Table Wrapper - Scrollable container */
.report-table-wrapper {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch;
    box-sizing: border-box !important;
}

/* Ant Design Table Overrides - Force table to respect container */
.report-container .ant-table-wrapper,
.report-table-wrapper .ant-table-wrapper {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: auto !important;
}

.report-container .ant-table,
.report-table-wrapper .ant-table {
    width: 100% !important;
    min-width: 0 !important;
}

.report-container .ant-table-container,
.report-table-wrapper .ant-table-container {
    width: 100% !important;
    overflow-x: auto !important;
}

.report-container .ant-table-content,
.report-table-wrapper .ant-table-content {
    overflow-x: auto !important;
}

.report-container .ant-table table,
.report-table-wrapper .ant-table table {
    table-layout: auto !important;
    min-width: 500px !important;
    /* Force scroll on small screens */
}

/* Compact tabs for mobile */
.report-tabs .ant-tabs-nav {
    margin-bottom: 0.5rem !important;
}

.report-tabs .ant-tabs-tab {
    padding: 6px 10px !important;
    font-size: 12px !important;
}

/* Glass card containment */
.glass-card {
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* Profile Dropdown Styling */
.profile-dropdown .ant-dropdown-menu {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(229, 231, 235, 1) !important;
    border-radius: 12px !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
    padding: 8px !important;
    min-width: 200px !important;
}

.dark .profile-dropdown .ant-dropdown-menu {
    background: rgba(24, 24, 27, 0.95) !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
}

.profile-dropdown .ant-dropdown-menu-item {
    border-radius: 8px !important;
    padding: 8px 12px !important;
    color: #374151 !important;
}

.dark .profile-dropdown .ant-dropdown-menu-item {
    color: #e5e7eb !important;
}

.profile-dropdown .ant-dropdown-menu-item:hover {
    background: rgba(243, 244, 246, 1) !important;
}

.dark .profile-dropdown .ant-dropdown-menu-item:hover {
    background: rgba(255, 255, 255, 0.1) !important;
}

.profile-dropdown .ant-dropdown-menu-item-danger {
    color: #ef4444 !important;
}

.profile-dropdown .ant-dropdown-menu-item-danger:hover {
    background: rgba(254, 242, 242, 1) !important;
}

.dark .profile-dropdown .ant-dropdown-menu-item-danger:hover {
    background: rgba(239, 68, 68, 0.1) !important;
}

.profile-dropdown .ant-dropdown-menu-item-divider {
    background: #e5e7eb !important;
    margin: 4px 0 !important;
}


/* ========================================
   MOBILE-FRIENDLY DATE PICKER & RANGE PICKER
   ======================================== */

/* RangePicker Input - Make it compact on mobile */
@media (max-width: 640px) {

    /* RangePicker Container */
    .ant-picker-range {
        width: 100% !important;
        min-width: 0 !important;
    }

    /* Make the input text smaller on mobile */
    .ant-picker-range .ant-picker-input>input {
        font-size: 12px !important;
        padding: 0 4px !important;
    }

    /* Smaller separator */
    .ant-picker-range .ant-picker-range-separator {
        padding: 0 4px !important;
    }

    /* Hide the range separator text on very small screens */
    .ant-picker-range .ant-picker-separator {
        padding: 0 2px !important;
    }

    /* Smaller icons */
    .ant-picker-range .ant-picker-suffix,
    .ant-picker-range .ant-picker-clear {
        font-size: 12px !important;
    }
}

/* RangePicker Dropdown Panel - Stack vertically on mobile */
@media (max-width: 768px) {

    /* Main dropdown container */
    .ant-picker-dropdown {
        width: calc(100vw - 16px) !important;
        max-width: 100vw !important;
        left: 8px !important;
        right: 8px !important;
    }

    /* Panel container - stack calendars vertically */
    .ant-picker-panel-container {
        width: 100% !important;
        max-width: calc(100vw - 16px) !important;
        overflow-x: hidden !important;
    }

    .ant-picker-panels {
        flex-direction: column !important;
        width: 100% !important;
    }

    /* Each calendar panel */
    .ant-picker-panel {
        width: 100% !important;
        border-width: 0 !important;
    }

    /* Add border between stacked panels */
    .ant-picker-panels>.ant-picker-panel:not(:first-child) {
        border-top: 1px solid #e5e7eb !important;
    }

    .dark .ant-picker-panels>.ant-picker-panel:not(:first-child) {
        border-top-color: rgba(255, 255, 255, 0.1) !important;
    }

    /* Calendar header */
    .ant-picker-header {
        padding: 8px 12px !important;
    }

    /* Calendar content - ensure full width */
    .ant-picker-content {
        width: 100% !important;
    }

    .ant-picker-content th,
    .ant-picker-content td {
        padding: 4px 0 !important;
    }

    /* Date cells - optimize for touch */
    .ant-picker-cell {
        padding: 2px 0 !important;
    }

    .ant-picker-cell-inner {
        min-width: 32px !important;
        height: 32px !important;
        line-height: 32px !important;
        border-radius: 8px !important;
    }

    /* Range quick select - stack vertically */
    .ant-picker-ranges {
        flex-wrap: wrap !important;
        padding: 8px !important;
        gap: 8px !important;
    }

    .ant-picker-ranges li {
        padding: 0 !important;
    }

    .ant-picker-ranges .ant-btn {
        padding: 4px 12px !important;
        height: 32px !important;
        font-size: 12px !important;
    }

    /* Time picker column - compact on mobile */
    .ant-picker-time-panel-column {
        width: 56px !important;
    }

    .ant-picker-time-panel-cell-inner {
        padding: 0 8px !important;
        height: 28px !important;
        line-height: 28px !important;
    }

    /* Footer buttons - full width on mobile */
    .ant-picker-footer {
        padding: 8px !important;
    }

    .ant-picker-footer-extra {
        padding: 8px !important;
        border-top: 1px solid #e5e7eb !important;
    }

    .dark .ant-picker-footer-extra {
        border-top-color: rgba(255, 255, 255, 0.1) !important;
    }
}

/* Single DatePicker on mobile */
@media (max-width: 640px) {
    .ant-picker:not(.ant-picker-range) {
        width: 100% !important;
    }
}

/* Glass styling for picker dropdown in dark mode */
.dark .ant-picker-dropdown .ant-picker-panel-container {
    background: rgba(24, 24, 27, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
}

.dark .ant-picker-dropdown .ant-picker-header {
    border-bottom-color: rgba(255, 255, 255, 0.1) !important;
    color: #e5e7eb !important;
}

.dark .ant-picker-dropdown .ant-picker-header button {
    color: #9ca3af !important;
}

.dark .ant-picker-dropdown .ant-picker-header button:hover {
    color: #fff !important;
}

.dark .ant-picker-dropdown .ant-picker-content th {
    color: #9ca3af !important;
}

.dark .ant-picker-dropdown .ant-picker-cell {
    color: #e5e7eb !important;
}

.dark .ant-picker-dropdown .ant-picker-cell-disabled {
    color: #4b5563 !important;
}

.dark .ant-picker-dropdown .ant-picker-cell-in-view.ant-picker-cell-today .ant-picker-cell-inner::before {
    border-color: #10b981 !important;
}

.dark .ant-picker-dropdown .ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner {
    background: #10b981 !important;
}

.dark .ant-picker-dropdown .ant-picker-cell-in-view.ant-picker-cell-range-start .ant-picker-cell-inner,
.dark .ant-picker-dropdown .ant-picker-cell-in-view.ant-picker-cell-range-end .ant-picker-cell-inner {
    background: #10b981 !important;
}

.dark .ant-picker-dropdown .ant-picker-cell-in-view.ant-picker-cell-in-range::before {
    background: rgba(16, 185, 129, 0.2) !important;
}

.dark .ant-picker-dropdown .ant-picker-footer {
    border-top-color: rgba(255, 255, 255, 0.1) !important;
}

.dark .ant-picker-dropdown .ant-picker-today-btn {
    color: #10b981 !important;
}


/* Custom Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
}